
R version 3.4.4 (2018-03-15) -- "Someone to Lean On"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R es un software libre y viene sin GARANTIA ALGUNA.
Usted puede redistribuirlo bajo ciertas circunstancias.
Escriba 'license()' o 'licence()' para detalles de distribucion.

R es un proyecto colaborativo con muchos contribuyentes.
Escriba 'contributors()' para obtener más información y
'citation()' para saber cómo citar R o paquetes de R en publicaciones.

Escriba 'demo()' para demostraciones, 'help()' para el sistema on-line de ayuda,
o 'help.start()' para abrir el sistema de ayuda HTML con su navegador.
Escriba 'q()' para salir de R.

> source('~/projects/hpc-r-gpu-course/mnist_example.R')
____________________________________________________________________________________________
Layer (type)                             Output Shape                         Param #       
============================================================================================
dense_1 (Dense)                          (None, 256)                          200960        
____________________________________________________________________________________________
dropout_1 (Dropout)                      (None, 256)                          0             
____________________________________________________________________________________________
dense_2 (Dense)                          (None, 128)                          32896         
____________________________________________________________________________________________
dropout_2 (Dropout)                      (None, 128)                          0             
____________________________________________________________________________________________
dense_3 (Dense)                          (None, 10)                           1290          
============================================================================================
Total params: 235,146
Trainable params: 235,146
Non-trainable params: 0
____________________________________________________________________________________________
2018-07-02 16:40:01.092848: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
Train on 48000 samples, validate on 12000 samples
Epoch 1/30
48000/48000 [==============================] - 4s 79us/step - loss: 0.4330 - acc: 0.8691 - val_loss: 0.1664 - val_acc: 0.9508
Epoch 2/30
48000/48000 [==============================] - 3s 60us/step - loss: 0.2048 - acc: 0.9397 - val_loss: 0.1217 - val_acc: 0.9659
Epoch 3/30
48000/48000 [==============================] - 3s 70us/step - loss: 0.1559 - acc: 0.9537 - val_loss: 0.1048 - val_acc: 0.9683
Epoch 4/30
48000/48000 [==============================] - 3s 66us/step - loss: 0.1320 - acc: 0.9611 - val_loss: 0.0989 - val_acc: 0.9720
Epoch 5/30
48000/48000 [==============================] - 3s 59us/step - loss: 0.1133 - acc: 0.9665 - val_loss: 0.0932 - val_acc: 0.9739
Epoch 6/30
48000/48000 [==============================] - 3s 60us/step - loss: 0.1076 - acc: 0.9693 - val_loss: 0.0902 - val_acc: 0.9762
Epoch 7/30
48000/48000 [==============================] - 3s 67us/step - loss: 0.0983 - acc: 0.9716 - val_loss: 0.0944 - val_acc: 0.9756
Epoch 8/30
48000/48000 [==============================] - 4s 94us/step - loss: 0.0892 - acc: 0.9744 - val_loss: 0.0933 - val_acc: 0.9762
Epoch 9/30
48000/48000 [==============================] - 4s 87us/step - loss: 0.0887 - acc: 0.9746 - val_loss: 0.0905 - val_acc: 0.9772
Epoch 10/30
48000/48000 [==============================] - 3s 65us/step - loss: 0.0820 - acc: 0.9760 - val_loss: 0.0943 - val_acc: 0.9775
Epoch 11/30
48000/48000 [==============================] - 3s 68us/step - loss: 0.0785 - acc: 0.9770 - val_loss: 0.0950 - val_acc: 0.9792
Epoch 12/30
48000/48000 [==============================] - 3s 64us/step - loss: 0.0738 - acc: 0.9786 - val_loss: 0.0947 - val_acc: 0.9772
Epoch 13/30
48000/48000 [==============================] - 3s 65us/step - loss: 0.0731 - acc: 0.9795 - val_loss: 0.0955 - val_acc: 0.9770
Epoch 14/30
48000/48000 [==============================] - 3s 67us/step - loss: 0.0704 - acc: 0.9803 - val_loss: 0.0928 - val_acc: 0.9787
Epoch 15/30
48000/48000 [==============================] - 4s 75us/step - loss: 0.0684 - acc: 0.9794 - val_loss: 0.0951 - val_acc: 0.9788
Epoch 16/30
48000/48000 [==============================] - 4s 80us/step - loss: 0.0663 - acc: 0.9809 - val_loss: 0.0947 - val_acc: 0.9802
Epoch 17/30
48000/48000 [==============================] - 4s 77us/step - loss: 0.0630 - acc: 0.9821 - val_loss: 0.0970 - val_acc: 0.9794
Epoch 18/30
48000/48000 [==============================] - 3s 70us/step - loss: 0.0612 - acc: 0.9828 - val_loss: 0.1016 - val_acc: 0.9794
Epoch 19/30
48000/48000 [==============================] - 3s 69us/step - loss: 0.0596 - acc: 0.9836 - val_loss: 0.1043 - val_acc: 0.9780
Epoch 20/30
48000/48000 [==============================] - 3s 69us/step - loss: 0.0606 - acc: 0.9824 - val_loss: 0.1029 - val_acc: 0.9795
Epoch 21/30
48000/48000 [==============================] - 4s 75us/step - loss: 0.0572 - acc: 0.9838 - val_loss: 0.1024 - val_acc: 0.9795
Epoch 22/30
48000/48000 [==============================] - 3s 65us/step - loss: 0.0545 - acc: 0.9850 - val_loss: 0.1094 - val_acc: 0.9792
Epoch 23/30
48000/48000 [==============================] - 3s 68us/step - loss: 0.0588 - acc: 0.9844 - val_loss: 0.1072 - val_acc: 0.9793
Epoch 24/30
48000/48000 [==============================] - 3s 62us/step - loss: 0.0541 - acc: 0.9851 - val_loss: 0.1073 - val_acc: 0.9786
Epoch 25/30
48000/48000 [==============================] - 3s 62us/step - loss: 0.0561 - acc: 0.9841 - val_loss: 0.1095 - val_acc: 0.9798
Epoch 26/30
48000/48000 [==============================] - 3s 64us/step - loss: 0.0550 - acc: 0.9853 - val_loss: 0.1120 - val_acc: 0.9797
Epoch 27/30
48000/48000 [==============================] - 3s 59us/step - loss: 0.0527 - acc: 0.9855 - val_loss: 0.1101 - val_acc: 0.9802
Epoch 28/30
48000/48000 [==============================] - 3s 64us/step - loss: 0.0517 - acc: 0.9864 - val_loss: 0.1150 - val_acc: 0.9807
Epoch 29/30
48000/48000 [==============================] - 3s 57us/step - loss: 0.0537 - acc: 0.9852 - val_loss: 0.1145 - val_acc: 0.9807
Epoch 30/30
48000/48000 [==============================] - 3s 60us/step - loss: 0.0506 - acc: 0.9866 - val_loss: 0.1122 - val_acc: 0.9797
10000/10000 [==============================] - 0s 40us/step
> model %>% evaluate(x_test, y_test)
10000/10000 [==============================] - 0s 47us/step
$loss
[1] 0.1007403

$acc
[1] 0.9814


